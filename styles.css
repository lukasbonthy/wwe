:root{
  --stroke: rgba(255,255,255,.10);
  --muted: rgba(255,255,255,.62);
  --muted2: rgba(255,255,255,.44);
  --pink: #ff3db8;
  --purple: #b38cff;
  --aqua: #7ae7ff;
}

.bgfx{ position: fixed; inset: 0; z-index: -10; overflow: hidden; }
.blob{ position:absolute; border-radius: 9999px; filter: blur(90px); opacity:.48; animation: floaty 10s ease-in-out infinite; }
.blob-a{ top:-340px; left:-340px; width:980px; height:980px; background: radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--pink) 95%, transparent), transparent 62%); }
.blob-b{ top:-360px; right:-360px; width:980px; height:980px; background: radial-gradient(circle at 35% 35%, color-mix(in srgb, var(--purple) 95%, transparent), transparent 62%); animation-delay:-3s; }
.blob-c{ bottom:-540px; left:10%; width:1200px; height:1200px; background: radial-gradient(circle at 40% 40%, color-mix(in srgb, var(--aqua) 70%, transparent), transparent 62%); opacity:.22; animation-delay:-6s; }
.noise{
  position:absolute; inset:0; pointer-events:none; opacity:.09; mix-blend-mode: overlay;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.28'/%3E%3C/svg%3E");
}
@keyframes floaty{ 0%,100%{ transform:translate(0,0);} 50%{ transform:translate(10px,-18px);} }

/* Grid like Discord: rail | channels | chat | members */
.appgrid{
  height: 100vh;
  display: grid;
  grid-template-columns: 78px 320px 1fr 300px;
}
@media (max-width: 768px){
  .appgrid{ height: calc(100vh - 56px); grid-template-columns: 1fr; }
}

.rail{
  background: rgba(10,10,18,.78);
  backdrop-filter: blur(16px);
  border-right: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  padding: 10px 8px;
  display:flex; flex-direction:column; gap:10px;
}
.railTop,.railBot{ display:flex; flex-direction:column; gap:10px; }
.railList{ flex:1 1 auto; overflow:auto; display:flex; flex-direction:column; gap:10px; padding-right: 2px; }

.srvBtn{
  width: 58px; height: 58px;
  border-radius: 22px;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  background: rgba(0,0,0,.16);
  color: rgba(255,255,255,.92);
  display:grid; place-items:center;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
  position: relative;
}
.srvBtn:hover{ transform: translateY(-1px); border-color: color-mix(in srgb, var(--pink) 28%, transparent); }
.srvBtnActive{
  border-color: color-mix(in srgb, var(--pink) 40%, transparent);
  background: linear-gradient(135deg, color-mix(in srgb, var(--pink) 18%, transparent), rgba(255,255,255,.06));
}
.srvBtnGhost{ opacity:.9; }
.srvMark{ font-weight: 1000; font-size: 20px; }

.channels{
  background: rgba(16,16,38,.78);
  backdrop-filter: blur(16px);
  border-right: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; flex-direction:column; min-width:0;
}
.chanHead{
  padding: 14px 14px 10px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
}
.chanSearch{
  margin: 12px 14px 10px;
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  border-radius: 16px;
  background: rgba(0,0,0,.16);
  padding: 10px 12px;
  display:flex; gap:10px; align-items:center;
  color: var(--muted);
}
.chanSearch input{ width:100%; border:none; outline:none; background:transparent; color: rgba(255,255,255,.92); font-weight: 900; }

.chanTree{
  flex:1 1 auto;
  overflow:auto;
  padding: 4px 10px 12px;
  display:flex;
  flex-direction:column;
  gap: 12px;
}
.catTitle{
  display:flex; align-items:center; justify-content:space-between;
  padding: 6px 10px;
  color: var(--muted2);
  font-weight: 1000;
  font-size: 11px;
  letter-spacing:.06em;
  text-transform: uppercase;
}
.catList{ display:flex; flex-direction:column; gap: 6px; padding: 4px 6px 0; }

.chanBtn{
  width:100%;
  text-align:left;
  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid transparent;
  background: transparent;
  color: rgba(255,255,255,.92);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.chanBtn:hover{ background: rgba(255,255,255,.06); }
.chanBtnActive{
  background: linear-gradient(135deg, color-mix(in srgb, var(--pink) 14%, transparent), rgba(255,255,255,.06));
  border-color: color-mix(in srgb, var(--pink) 18%, transparent);
}
.chanLeft{ display:flex; align-items:center; gap:10px; min-width:0; }
.chanIco{ width:18px; text-align:center; color: var(--muted); }
.chanName{ font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.badge{
  font-size: 11px; font-weight: 1000; color: var(--muted2);
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  border-radius: 999px; padding: 2px 8px;
  background: rgba(0,0,0,.12);
}

.statusBar{
  padding: 12px 12px;
  border-top: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.avatar{
  width: 40px; height: 40px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  background: radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--pink) 85%, transparent), color-mix(in srgb, var(--purple) 35%, transparent) 60%, color-mix(in srgb, var(--aqua) 18%, transparent));
  display:grid; place-items:center;
  font-weight: 1000;
}

/* Chat */
.chat{ background: rgba(11,11,18,.55); backdrop-filter: blur(10px); display:flex; flex-direction:column; min-width:0; }
.chatHead{
  padding: 14px 14px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
}
.topic{ margin-top:4px; color: var(--muted); font-weight: 900; font-size: 12px; max-width: 72ch; }
.pill{
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  border-radius: 999px;
  padding: 4px 10px;
  font-weight: 1000;
  font-size: 11px;
  color: var(--muted);
  background: rgba(0,0,0,.10);
}
.pillGhost{ opacity:.9; }

.banner{
  margin: 12px 14px 0;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--pink) 20%, transparent);
  background: linear-gradient(135deg, color-mix(in srgb, var(--pink) 12%, transparent), rgba(255,255,255,.05));
  padding: 12px 14px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}

.msgList{
  flex:1 1 auto;
  overflow:auto;
  padding: 14px 14px;
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.msgRow{ display:flex; }
.msgMe{ justify-content:flex-end; }
.bubble{
  max-width: 78%;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  background: rgba(0,0,0,.14);
  padding: 12px 14px;
}
.bubbleMe{
  border-color: color-mix(in srgb, var(--pink) 22%, transparent);
  background: linear-gradient(135deg, color-mix(in srgb, var(--pink) 14%, transparent), rgba(255,255,255,.06));
}
.bTop{ display:flex; justify-content:space-between; gap:12px; align-items:center; }
.bName{ font-weight: 1000; font-size: 13px; }
.bTime{ font-weight: 1000; font-size: 12px; color: var(--muted2); }
.bText{ margin-top: 6px; color: var(--muted); font-weight: 900; white-space:pre-wrap; word-break:break-word; line-height: 1.35rem; }

.composer{
  border-top: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  padding: 12px 14px;
  display:grid;
  grid-template-columns: 240px 1fr 180px;
  gap: 12px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.18));
}
@media (max-width: 1100px){
  .composer{ grid-template-columns: 1fr; }
}
.label{ font-size: 11px; font-weight: 1000; color: var(--muted); }
.field{
  width:100%;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  background: rgba(0,0,0,.16);
  color: rgba(255,255,255,.92);
  padding: 10px 12px;
  font-weight: 1000;
  outline:none;
}
.field:focus{
  border-color: color-mix(in srgb, var(--pink) 40%, transparent);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--pink) 12%, transparent);
}
.fieldArea{ resize:none; min-height: 44px; }
.hintTiny{ margin-top: 8px; font-size: 11px; font-weight: 900; color: var(--muted2); }

.cmdHints{ margin-top: 8px; display:flex; flex-wrap:wrap; gap:8px; color: var(--muted2); }
.kbd{
  display:inline-block;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  background: rgba(0,0,0,.12);
  border-radius: 999px;
  padding: 2px 10px;
  font-weight: 1000;
  font-size: 12px;
  color: var(--muted);
}

.btnPrimary, .btnGhost, .miniIcon, .iconbtn{
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  color: rgba(255,255,255,.92);
  font-weight: 1000;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
  display:inline-flex; align-items:center; gap:10px; justify-content:center;
}
.btnPrimary, .btnGhost{
  border-radius: 16px;
  padding: 10px 12px;
  background: rgba(255,255,255,.06);
}
.btnPrimary{
  border-color: color-mix(in srgb, var(--pink) 30%, transparent);
  background: linear-gradient(135deg, color-mix(in srgb, var(--pink) 16%, transparent), rgba(255,255,255,.07));
}
.btnSmall{ padding: 8px 10px; border-radius: 14px; }
.btnGhost{ background: rgba(0,0,0,.12); }
.btnPrimary:hover,.btnGhost:hover,.miniIcon:hover,.iconbtn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.10);
}
.miniIcon{
  width: 40px; height: 40px;
  border-radius: 14px;
  padding: 0;
  background: rgba(0,0,0,.12);
}
.miniIcon.glow{ box-shadow: 0 0 22px color-mix(in srgb, var(--pink) 22%, transparent); }
.iconbtn{
  width: 40px; height: 40px;
  border-radius: 14px;
  background: rgba(0,0,0,.12);
}

/* Members */
.members{
  background: rgba(16,16,28,.78);
  backdrop-filter: blur(16px);
  border-left: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; flex-direction:column; min-width:0;
}
.memHead{
  padding: 14px 14px 10px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
}
.memList{
  flex:1 1 auto;
  overflow:auto;
  padding: 12px 10px;
  display:flex;
  flex-direction:column;
  gap: 12px;
}
.roleHdr{
  padding: 6px 8px;
  font-weight: 1000;
  font-size: 11px;
  letter-spacing:.06em;
  text-transform: uppercase;
  color: var(--muted2);
}
.memItem{
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  background: rgba(0,0,0,.12);
  padding: 10px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.memL{ display:flex; gap:10px; align-items:center; min-width:0; }
.memIco{
  width: 36px; height: 36px;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:grid; place-items:center;
  font-weight: 1000;
  background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(0,0,0,.10));
}
.memName{ font-weight: 1000; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 180px; }
.memRole{ font-weight: 1000; font-size: 12px; color: var(--muted2); }

.memFoot{
  padding: 12px 14px;
  border-top: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
}
.ruleCard{
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  background: rgba(0,0,0,.12);
  padding: 12px 12px;
}
.ruleList{ margin: 8px 0 0; padding-left: 18px; color: var(--muted); font-weight: 900; font-size: 12px; }

/* Mobile slide panels */
.mBackdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
  z-index: 60;
}
.mPanel{
  position: fixed; top: 56px; bottom: 0; left: 0;
  width: min(92vw, 420px);
  background: rgba(16,16,38,.92);
  border-right: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  z-index: 70;
  transform: translateX(-100%);
  transition: transform .18s ease;
  display:flex; flex-direction:column;
}
.mPanelRight{
  position: fixed; top: 56px; bottom: 0; right: 0;
  width: min(92vw, 420px);
  background: rgba(16,16,28,.92);
  border-left: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  z-index: 70;
  transform: translateX(100%);
  transition: transform .18s ease;
  display:flex; flex-direction:column;
}
.mPanel.open{ transform: translateX(0); }
.mPanelRight.open{ transform: translateX(0); }
.mPanelHead{
  padding: 12px 12px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 75%, transparent);
  display:flex; align-items:center; justify-content:space-between;
}
.mBlock{ padding: 12px 12px; }
.mLabel{
  font-weight: 1000;
  font-size: 11px;
  letter-spacing:.06em;
  text-transform: uppercase;
  color: var(--muted2);
  margin-bottom: 8px;
}
.mServers{ display:flex; gap:10px; flex-wrap:wrap; }

/* Modal */
.modal{
  position: fixed; inset: 0;
  display:grid; place-items:center;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  z-index: 80;
  padding: 16px;
}
.modalCard{
  width: min(640px, 96vw);
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  box-shadow: 0 18px 70px rgba(0,0,0,.45);
  padding: 14px;
}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  background: rgba(10,10,18,.88);
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 1000;
  z-index: 90;
  box-shadow: 0 18px 70px rgba(0,0,0,.45);
}

/* Scrollbars */
.railList, .chanTree, .msgList, .memList{
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--stroke) 85%, transparent) transparent;
}
.railList::-webkit-scrollbar,
.chanTree::-webkit-scrollbar,
.msgList::-webkit-scrollbar,
.memList::-webkit-scrollbar{ width: 10px; height: 10px; }
.railList::-webkit-scrollbar-thumb,
.chanTree::-webkit-scrollbar-thumb,
.msgList::-webkit-scrollbar-thumb,
.memList::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--stroke) 80%, transparent);
  border-radius: 999px;
                                     }
